<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lyrica - Music Encyclopedia</title>
    <link rel="icon" href="img/lyrica.logo.jpg" type="image/jpeg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-loader"><div class="spinner"></div></div>
    
    <div class="main-container" style="display: none;">
        <div class="sidebar">
            <div class="logo"><h1>Lyrica</h1></div>
            <nav class="main-nav">
                <div class="nav-item active" data-target="inicio"><i class="fas fa-home"></i><span data-translate-key="home">Home</span></div>
                <div class="nav-item" data-target="social"><i class="fas fa-users"></i><span data-translate-key="friends">Friends</span></div>
                <div class="nav-item" data-target="profile" id="profileNavItem"><i class="fas fa-user"></i><span data-translate-key="profile">Profile</span></div>
            </nav>
            <div class="sidebar-footer">
                <a href="https://www.instagram.com/lyrica.app/" target="_blank" class="nav-item social-link">
                    <i class="fab fa-instagram"></i>
                    <span>Instagram</span>
                </a>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="top-bar">
                <div class="mobile-header">
                    <div class="logo-mobile"><h1>Lyrica</h1></div>
                     <nav class="main-nav-mobile">
                        <div class="nav-item active" data-target="inicio" data-translate-key="home">Home</div>
                        <div class="nav-item" data-target="social" data-translate-key="friends">Friends</div>
                        <div class="nav-item" data-target="profile" id="profileNavItemMobile" data-translate-key="profile">Profile</div>
                        <a href="https://www.instagram.com/lyrica.app/" target="_blank" class="nav-item social-link-mobile">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </nav>
                </div>
                <div class="search-container">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" data-translate-placeholder-key="searchInputPlaceholder" placeholder="Search for artists, albums, or users...">
                    </div>
                    <div class="advanced-filters">
                        <select id="genreFilter">
                            <option value="" data-translate-key="allGenres">All Genres</option>
                            <option value="rock">Rock</option>
                            <option value="pop">Pop</option>
                            <option value="hip-hop">Hip Hop</option>
                            <option value="electronic">Electronic</option>
                            <option value="jazz">Jazz</option>
                            <option value="classical">Classical</option>
                        </select>
                    </div>
                    <div id="autocomplete-results" class="autocomplete-results"></div>
                </div>
                <div class="user-profile-area">
                    <button class="control-btn" id="themeToggleBtn">
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn-login" id="loginPromptBtn" data-translate-key="login">Login</button>
                    <div class="user-profile" id="userProfile" style="display: none;">
                        <div class="user-avatar" id="userAvatar"></div>
                        <div id="userInfo" class="user-info"></div>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-item" id="changeNameBtn"><i class="fas fa-pencil-alt"></i><span data-translate-key="changeName">Change Name</span></div>
                        <div class="dropdown-item" id="changeAvatarBtn"><i class="fas fa-camera"></i><span data-translate-key="changePicture">Change Picture</span></div>
                        <div class="dropdown-item" id="badgeQuizBtn"><i class="fas fa-award"></i><span data-translate-key="retakeBadgeQuiz">Retake Quiz</span></div>
                        <div class="dropdown-item" id="logoutBtn"><i class="fas fa-sign-out-alt"></i><span data-translate-key="logout">Log Out</span></div>
                    </div>
                </div>
            </div>

            <div class="main-content">
                <div id="inicio" class="content-section active">
                    <div id="home-container">
                        <div id="popular-artists-container">
                            <!-- Popular artists will be injected here by JS -->
                        </div>

                        <!-- Squad Content Moved Here -->
                        <div class="squad-page-container">
                            <h2 class="section-title-main" data-translate-key="squadTitle">Badge Squadron</h2>
                            <p class="squad-description" data-translate-key="squadDescription">
                                What kind of music fan are you? The Explorer who dives deep into discographies? The Discoverer who's always finding the next big thing? Or the Collector with an immense library? Answer 10 quick questions to find out and earn your exclusive badge!
                            </p>
                            <div class="squad-badges-preview">
                                <div class="badge-preview-item">
                                    <img src="img/Discoverer.png" alt="Discoverer Badge">
                                    <h3 data-translate-key="badgeDiscovererTitle">Discoverer</h3>
                                </div>
                                <div class="badge-preview-item">
                                    <img src="img/Explorer.png" alt="Explorer Badge">
                                    <h3 data-translate-key="badgeExplorerTitle">Explorer</h3>
                                </div>
                                 <div class="badge-preview-item">
                                    <img src="img/Collector.png" alt="Collector Badge">
                                    <h3 data-translate-key="badgeCollectorTitle">Collector</h3>
                                </div>
                            </div>
                            <button class="btn-primary btn-squad-start" id="startQuizBtn"><i class="fas fa-pen-ruler"></i> <span data-translate-key="startQuiz">Discover Your Badge</span></button>
                        </div>
                        
                        <div id="recommendations-container">
                             <!-- Recommendations will be injected here by JS -->
                        </div>
                    </div>
                </div>
                <div id="squad" class="content-section"></div> <!-- This can now be removed or left empty -->
                <div id="buscar" class="content-section"><h2 class="section-title-main" data-translate-key="searchResults">Search Results</h2><div id="searchResultsContainer"></div></div>
                <div id="details-view" class="content-section"></div>
                <div id="social" class="content-section">
                    <!-- Social/Friends content will be injected here -->
                </div>
                <div id="profile" class="content-section">
                    <!-- Profile content will be injected here -->
                </div>
            </div>
        </div>
    </div>
    
    <div id="loginModal" class="modal-overlay"><div class="modal-content"><button class="close-modal-btn">&times;</button><h2 data-translate-key="login">Login</h2><p class="modal-error"></p><input type="email" id="loginEmail" data-translate-placeholder-key="email" placeholder="Email"><div class="password-wrapper"><input type="password" id="loginPassword" data-translate-placeholder-key="password" placeholder="Password"><i class="fas fa-eye password-toggle"></i></div><div class="modal-actions"><button class="btn-primary" id="loginSubmitBtn" data-translate-key="login">Login</button></div><p class="modal-switch"><span data-translate-key="dontHaveAccount">Don't have an account?</span> <a href="#" id="switchToRegister" data-translate-key="signUp">Sign Up</a></p></div></div>
    <div id="registerModal" class="modal-overlay"><div class="modal-content"><button class="close-modal-btn">&times;</button><h2 data-translate-key="signUp">Sign Up</h2><p class="modal-error"></p><input type="text" id="registerName" data-translate-placeholder-key="yourName" placeholder="Your Name"><input type="email" id="registerEmail" data-translate-placeholder-key="email" placeholder="Email"><div class="password-wrapper"><input type="password" id="registerPassword" data-translate-placeholder-key="password" placeholder="Password"><i class="fas fa-eye password-toggle"></i></div><div class="modal-actions"><button class="btn-primary" id="registerSubmitBtn" data-translate-key="createAccount">Create Account</button></div><p class="modal-switch"><span data-translate-key="alreadyHaveAccount">Already have an account?</span> <a href="#" id="switchToLogin" data-translate-key="login">Login</a></p></div></div>
    
    <div id="nameChangeModal" class="modal-overlay"><div class="modal-content"><button class="close-modal-btn">&times;</button><h2 data-translate-key="changeYourName">Change Your Name</h2><p class="modal-error"></p><input type="text" id="newNameInput" data-translate-placeholder-key="newName" placeholder="New name"><div class="modal-actions"><button class="btn-secondary" id="cancelNameChangeBtn" data-translate-key="cancel">Cancel</button><button class="btn-primary" id="saveNameBtn" data-translate-key="save">Save</button></div></div></div>
    
    <div id="avatarChangeModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h2 data-translate-key="changeProfilePicture">Change Profile Picture</h2>
            <p class="modal-error"></p>
            <div id="video-container" style="display: none;">
                <video id="videoStream" autoplay playsinline></video>
            </div>
            <div class="avatar-preview-container">
                <img id="avatarPreviewImage" src="" alt="Avatar Preview">
            </div>
            <input type="file" id="avatarFileInput" accept="image/*" style="display: none;">
            <div id="avatar-actions">
                <div class="modal-actions-grid">
                    <button class="btn-secondary" id="uploadAvatarBtn"><i class="fas fa-upload"></i> <span data-translate-key="uploadImage">Upload Image</span></button>
                    <button class="btn-secondary" id="takePhotoBtn"><i class="fas fa-camera-retro"></i> <span data-translate-key="takePhoto">Take Photo</span></button>
                    <button class="btn-danger" id="removeAvatarBtn"><i class="fas fa-trash"></i> <span data-translate-key="remove">Remove</span></button>
                </div>
                <div class="modal-actions">
                     <button class="btn-primary" id="saveAvatarBtn"><i class="fas fa-save"></i> <span data-translate-key="saveAndClose">Save & Close</span></button>
                </div>
            </div>
            <div id="capture-actions" style="display: none;">
                <div class="modal-actions">
                    <button class="btn-primary" id="captureBtn"><i class="fas fa-camera"></i> <span data-translate-key="capture">Capture</span></button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="badgeQuizModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <div id="quiz-container">
                <h2 data-translate-key="badgeQuizTitle">Discover Your Music Profile</h2>
                <div id="question-container"></div>
                <div class="quiz-navigation">
                    <button id="prevQuestionBtn" class="btn-secondary" style="display: none;" data-translate-key="previous">Previous</button>
                    <button id="nextQuestionBtn" class="btn-primary" data-translate-key="next">Next</button>
                </div>
            </div>
            <div id="quiz-result" style="display: none;">
                <h2 data-translate-key="quizResultTitle">Your Result!</h2>
                <img id="resultBadgeImage" src="" alt="Your new badge">
                <h3 id="resultBadgeName"></h3>
                <p id="resultBadgeDescription"></p>
                <button id="closeQuizResultBtn" class="btn-primary" data-translate-key="close">Close</button>
            </div>
        </div>
    </div>

    <div id="badgeTooltip" class="badge-tooltip">
        <h3 id="badgeTooltipTitle"></h3>
        <p id="badgeTooltipDesc"></p>
    </div>

    <script src="script.js"></script>
</body>
</html>