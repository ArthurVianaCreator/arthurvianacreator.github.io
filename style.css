@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500;700&display=swap');

/* DARK THEME (DEFAULT) */
:root {
    --primary-color: #FFC107;
    --primary-glow: rgba(255, 193, 7, 0.25);
    --dark-bg: #181818;
    --darker-bg: #121212;
    --gray-text: #8c8c8c;
    --light-gray-text: #b3b3b3;
    --white-text: #ffffff;
    --card-bg: #202020;
    --card-hover-bg: #282828;
    --border-color: #282828;
    --danger-color: #e53935;
    --success-color: #43a047;
    --elegant-font: 'Montserrat', sans-serif;
    --body-font: 'Roboto', sans-serif;
    --transition-speed: 0.3s;
}

/* LIGHT THEME */
body.light-theme {
    --primary-color: #E6A200;
    --primary-glow: rgba(220, 160, 0, 0.25);
    --dark-bg: #f5f5f5;
    --darker-bg: #ffffff;
    --gray-text: #5f5f5f;
    --light-gray-text: #333333;
    --white-text: #121212;
    --card-bg: #ffffff;
    --card-hover-bg: #f0f0f0;
    --border-color: #e0e0e0;
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-font-smoothing: antialiased; }
html { scroll-behavior: smooth; }
body { font-family: var(--body-font); background: var(--darker-bg); color: var(--light-gray-text); overflow: hidden; height: 100vh; width: 100vw; transition: background-color var(--transition-speed), color var(--transition-speed); }
#app-loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #121212; z-index: 10000; display: flex; align-items: center; justify-content: center; }
.spinner { width: 50px; height: 50px; border: 5px solid #8c8c8c; border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* KEYFRAME ANIMATIONS */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes popIn { 0% { opacity: 0; transform: scale(0.5); } 70% { opacity: 1; transform: scale(1.1); } 100% { transform: scale(1); } }

/* MAIN LAYOUT */
.main-container { display: flex; height: 100vh; }
.sidebar { width: 240px; background: var(--dark-bg); border-right: 1px solid var(--border-color); padding: 24px; display: flex; flex-direction: column; flex-shrink: 0; transition: background var(--transition-speed), border-color var(--transition-speed); }
.content-wrapper { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.top-bar { display: flex; justify-content: space-between; align-items: center; padding: 12px 32px; background: var(--darker-bg); border-bottom: 1px solid var(--border-color); gap: 20px; z-index: 100; transition: all var(--transition-speed); }
.main-content { background: linear-gradient(180deg, var(--dark-bg) 0%, var(--darker-bg) 200%); overflow-y: auto; padding: 24px 32px; flex: 1; }

.content-section { display: none; }
.content-section.active { display: block; animation: fadeInUp 0.5s ease-out forwards; }

/* SIDEBAR & NAVIGATION */
.sidebar .logo h1 { font-family: var(--elegant-font); font-size: 2.2rem; color: var(--primary-color); letter-spacing: 1px; text-shadow: 0 0 10px var(--primary-glow); }
.sidebar .main-nav { display: flex; flex-direction: column; gap: 10px; margin-top: 40px; }
.sidebar .nav-item { display: flex; align-items: center; gap: 15px; padding: 12px 15px; border-radius: 8px; font-family: var(--body-font); font-weight: 700; color: var(--light-gray-text); cursor: pointer; transition: all 0.2s ease-in-out; }
.sidebar .nav-item:hover { color: var(--white-text); background-color: var(--card-hover-bg); transform: translateX(5px); }
.sidebar .nav-item.active { color: #121212; background-color: var(--primary-color); box-shadow: 0 4px 15px var(--primary-glow); }
.sidebar-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border-color); }

/* TOP BAR & USER PROFILE */
.mobile-header { display: none; }
.user-profile-area { display: flex; align-items: center; gap: 15px; position: relative; }
.user-profile { display: flex; align-items: center; gap: 8px; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 50px; padding: 4px 12px 4px 4px; cursor: pointer; transition: all 0.2s ease-in-out; }
.user-profile:hover { background-color: var(--card-hover-bg); transform: scale(1.03); }
.user-avatar { width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--white-text); overflow: hidden; }
.user-avatar .profile-picture { width: 100%; height: 100%; object-fit: cover; }
.user-info span#userName { font-weight: 500; font-size: 0.9rem; color: var(--white-text); }
.user-badges { display: flex; align-items: center; gap: 5px; height: 22px; margin-top: 2px; }
.badge-icon { width: 22px; height: 22px; cursor: pointer; transition: transform 0.2s; }
.badge-icon:hover { transform: scale(1.2); }
.user-dropdown { position: absolute; top: 60px; right: 0; background: var(--card-hover-bg); border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); width: 220px; z-index: 10; opacity: 0; visibility: hidden; transform: translateY(10px); transition: opacity 0.2s, transform 0.2s; }
.user-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-item { padding: 12px 15px; display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 0.9rem; color: var(--light-gray-text); }
.dropdown-item:hover { background-color: var(--card-bg); }

/* GENERAL BUTTON STYLES */
.btn-primary, .btn-secondary, .btn-danger, .btn-friend-action, .favorite-btn {
    border: none;
    border-radius: 50px;
    padding: 10px 24px;
    font-weight: 700;
    cursor: pointer;
    transition: all var(--transition-speed) ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    text-decoration: none;
}
.btn-primary:hover, .btn-secondary:hover, .btn-danger:hover, .btn-friend-action:hover {
    transform: translateY(-2px);
    filter: brightness(1.15);
}
.btn-primary { background: var(--primary-color); color: #121212; box-shadow: 0 4px 15px -5px var(--primary-glow); }
.btn-secondary { background: var(--card-hover-bg); color: var(--white-text); }
.btn-danger { background: var(--danger-color); color: #fff; }

/* SEARCH BAR */
.search-bar { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 50px; padding: 10px 16px; display: flex; align-items: center; transition: all 0.2s; width: 100%; }
.search-bar:focus-within { border-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-glow); }
.search-bar input { background: none; border: none; color: var(--white-text); outline: none; width: 100%; font-size: 0.95rem; }

/* PROFILE PAGE */
.profile-header-main { padding: 20px 0; margin-bottom: 30px; }
.profile-avatar-large { width: 150px; height: 150px; border-radius: 50%; margin-bottom: 20px; border: 4px solid var(--card-bg); box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
.profile-info-main h2 { font-size: clamp(2rem, 5vw, 3rem); }
.profile-info-main .user-badges .badge-icon { width: 28px; height: 28px; }
.online-status { margin: 5px 0 10px; }
.status-dot { width: 10px; height: 10px; border-radius: 50%; }
.status-dot.online { background-color: var(--success-color); box-shadow: 0 0 8px var(--success-color); }
.favorite-artist-card { max-width: 600px; margin: 20px auto 30px; }
.favorite-artist-img { width: 80px; height: 80px; }

/* DETAILS PAGE */
.details-actions { display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 20px; flex-wrap: wrap; }
.details-info .follow-btn.following { background: transparent; border: 2px solid var(--gray-text); color: var(--light-gray-text); box-shadow: none; }
.favorite-btn.is-favorite { background: var(--primary-color); border-color: var(--primary-color); color: #121212; box-shadow: 0 4px 15px -5px var(--primary-glow); }
.artist-content-columns, .album-content-layout { display: grid; gap: 40px; align-items: flex-start; }
.artist-content-columns { grid-template-columns: 1fr 1fr; }
.album-content-layout { grid-template-columns: 1fr 1fr; }
.album-content-layout .spotify-embed-container { position: sticky; top: 20px; }

/* MUSIC & USER CARDS */
.music-grid, .user-grid { display: grid; gap: 24px; }
.music-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
.user-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
.music-card { transition: all var(--transition-speed) ease; }
.music-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px -10px var(--primary-glow); }
.music-card .music-img img { transition: transform var(--transition-speed) ease; }
.music-card:hover .music-img img { transform: scale(1.05); }

/* NEWS PAGE */
.news-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; flex-wrap: wrap; gap: 10px; }
.news-list-container { display: flex; flex-direction: column; gap: 20px; max-width: 800px; margin: 0 auto; }
.news-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; padding: 20px; transition: all var(--transition-speed) ease; }
.news-card-header { display: flex; justify-content: space-between; align-items: center; gap: 15px; margin-bottom: 5px; }
.news-card h3 { font-family: var(--elegant-font); font-size: 1.5rem; color: var(--primary-color); }
.news-card-meta { font-size: 0.85rem; color: var(--gray-text); margin-bottom: 15px; }
.news-card-content { line-height: 1.7; white-space: pre-wrap; }
.delete-news-btn { font-size: 0.8rem; padding: 5px 10px; border-radius: 5px; }
#postNewsModal textarea { min-height: 150px; resize: vertical; }

/* MODALS */
.modal-overlay { background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); }
.modal-content { animation: fadeInUp 0.4s ease; }
#postNewsModal .modal-content, #nameChangeModal .modal-content { max-width: 500px; }

/* --- RESPONSIVE DESIGN --- */

/* TABLET & SMALL DESKTOP */
@media (max-width: 1024px) {
    .sidebar { width: 200px; padding: 20px 15px; }
    .sidebar .logo h1 { font-size: 1.8rem; }
    .top-bar, .main-content { padding: 12px 24px; }
    .artist-content-columns, .album-content-layout { grid-template-columns: 1fr; }
    .album-content-layout .spotify-embed-container { position: static; margin-top: 30px; }
}

/* MOBILE DEVICES */
@media (max-width: 768px) {
    body { height: auto; overflow-y: auto; }
    .main-container { flex-direction: column; height: auto; }
    .sidebar { display: none; }
    
    .top-bar {
        position: sticky;
        top: 0;
        flex-wrap: wrap;
        padding: 12px 16px;
        background: rgba(var(--darker-bg), 0.85);
        backdrop-filter: blur(10px);
    }
    
    .mobile-header {
        display: flex;
        align-items: center;
        width: 100%;
        justify-content: space-between;
    }
    .mobile-header .logo-mobile h1 { font-family: var(--elegant-font); font-size: 1.8rem; color: var(--primary-color); }
    
    .main-nav-mobile {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--dark-bg);
        justify-content: space-around;
        padding: 8px 0;
        border-top: 1px solid var(--border-color);
        z-index: 1000;
    }
    .main-nav-mobile .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        font-size: 0.7rem;
        color: var(--gray-text);
        padding: 5px;
        border-bottom: none;
        border-top: 3px solid transparent;
        transition: color 0.2s, border-color 0.2s;
    }
    .main-nav-mobile .nav-item.active {
        color: var(--primary-color);
        border-top-color: var(--primary-color);
    }
    .main-nav-mobile .nav-item i { font-size: 1.2rem; }

    .search-container { order: 3; width: 100%; margin-top: 10px; max-width: none; }
    .user-profile-area { order: 2; }
    
    .main-content { padding: 16px; padding-bottom: 80px; /* Space for mobile nav */ }
    
    .profile-avatar-large, .details-header .details-img { width: 120px; height: 120px; }
    .music-grid { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
    .favorite-artist-card { flex-direction: column; text-align: center; }
}